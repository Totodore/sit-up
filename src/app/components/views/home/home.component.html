<div class="card">
	<div class="headband">
		<div style="width: 90%;">
			<div style="width: 40%;">
				<div class="cardicon-left" matRipple>
					<mat-icon aria-hidden="false" fontIcon="pets" class="icon-left"></mat-icon>
					<div>Pet sitting</div>
				</div>
				<div class="cardicon-left" matRipple>
					<mat-icon aria-hidden="false" fontIcon="local_florist" class="icon-left"></mat-icon>
					<div>Plant sitting</div>
				</div>

				<div class="cardicon-left" matRipple>
					<mat-icon aria-hidden="false" fontIcon="cleaning_services" class="icon-left"></mat-icon>
					<div>Home sitting</div>
				</div>

			</div>

			<div class="cardicon-right">
				<button mat-icon-button (click)="changeDisplayFiltre()">
					<mat-icon aria-hidden="false" fontIcon="filter_list"></mat-icon>
				</button>
			</div>
		</div>

	</div>

	<div class="filtre" *ngIf="displayFiltre">
		<form (ngSubmit)="submitForm()" #myForm="ngForm">
			<mat-form-field class="input-filtre">
				<mat-label>Location :</mat-label>
				<input matInput type="text" id="city" name="city" [(ngModel)]="searchInput"
					(ngModelChange)="calculationOfCoordinates($event)" required [matAutocomplete]="auto">
				<mat-autocomplete #auto="matAutocomplete">
					<mat-option *ngFor="let option of answerCalculationOfCoordinates"
						[value]="option.housenumber + ' ' + option.street + ' ' + option.city">
						{{ option.housenumber }} {{ option.street }} {{ option.city }}
					</mat-option>
				</mat-autocomplete>
			</mat-form-field>

			<div class="range">
				<mat-label>Range in km</mat-label>
				<mat-slider class="rooms_slider" [max]="100" [min]="1" [step]="1" discrete [displayWith]="formatLabel">
					<input matSliderThumb [(value)]="announcementFilter.range">
				</mat-slider>
			</div>
			<mat-form-field class="input-filtre">
				<mat-label>Number of Beds:</mat-label>
				<input matInput type="number" id="numberOfBeds" name="numberOfBeds"
					[(ngModel)]="announcementFilter.numberOfBeds" required>
			</mat-form-field>

			<mat-form-field class="input-filtre">
				<mat-label>Square Meters:</mat-label>
				<input matInput type="number" id="squareMeters" name="squareMeters"
					[(ngModel)]="announcementFilter.squareMeters" required>
			</mat-form-field>

			<mat-form-field class="input-filtre" color="accent">
				<mat-label>Date:</mat-label>
				<mat-date-range-input [rangePicker]="picker">
					<input matStartDate [(ngModel)]="announcementFilter.startDate" placeholder="Start date">
					<input matEndDate [(ngModel)]="announcementFilter.stopDate" placeholder="End date">
				</mat-date-range-input>
				<mat-hint>MM/DD/YYYY - MM/DD/YYYY</mat-hint>
				<mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
				<mat-date-range-picker #picker></mat-date-range-picker>
			</mat-form-field>


			<mat-form-field class="input-filtre">
				<mat-label>Max Number of People:</mat-label>
				<input matInput type="number" id="numberPeopleMax" name="numberPeopleMax"
					[(ngModel)]="announcementFilter.numberPeople" required>
			</mat-form-field>

			<mat-form-field class="input-filtre">
				<mat-label>Number of Rooms:</mat-label>
				<input matInput type="number" id="numberOfRooms" name="numberOfRooms"
					[(ngModel)]="announcementFilter.numberOfRooms" required>
			</mat-form-field>
			<br>

			<button mat-raised-button color="primary" type="submit">Submit</button>
		</form>
	</div>



	<div class="container">
		<button mat-icon-button (click)="decrementDisplayAnnounces()" [disabled]="this.buttonDecrementDisabled">
			<mat-icon>keyboard_arrow_left</mat-icon>
		</button>

		<div *ngIf="displayAnnounces">
			<div class="annoucement-container">
				<div class="announcement-card" [routerLink]="'/offer/' + announcement.id"
					*ngFor="let announcement of displayAnnouncements">
					<img class="announcement-card-image " [src]="'https://material.angular.io/assets/img/examples/shiba2.jpg'" alt="Image de l'annonce">
					<span class="announcement-information-title">City: </span>{{ announcement.city }}<br />
					<span class="announcement-information-title">Beds: </span>{{ announcement.numberOfBeds }}<br />
					<span class="announcement-information-title">m<sup>2</sup>: </span>{{ announcement.squareMeters }}<br />
					<span class="announcement-information-title">Rooms: </span>{{ announcement.numberOfRooms }}<br />
					<span class="announcement-information-title">People: </span>{{ announcement.numberPeopleMax }}<br />
					<span class="announcement-information-title">Start Date: </span>{{ announcement.startDate | date:'dd/MM/yyyy' }}<br />
					<span class="announcement-information-title">Stop Date: </span>{{ announcement.stopDate | date:'dd/MM/yyyy' }}<br />
					<span class="announcement-information-title">Description: </span>{{ announcement.description }}<br />
					<span class="announcement-information-title">User: </span>{{ announcement.author.firstname }} {{ announcement.author.name }}<br />
				</div>
			</div>
		</div>

		<button mat-icon-button (click)="incrementDisplayAnnounces()" [disabled]="this.buttonIncrementDisabled">
			<mat-icon>keyboard_arrow_right</mat-icon>
		</button>
	</div>

</div>